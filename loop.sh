#!/bin/bash

# р╕зр╕Щр╣Бр╕кр╕Фр╕Зр╣Ар╕ер╕В 1-5
# for NUMBER in {20..2..2}
# do
#     echo "р╕гр╕нр╕Ър╕Чр╕╡р╣И $NUMBER"
# done

# р╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З
# FILES="report.txt data.txt backup.txt"

# for FILE in $FILES
# do
#     echo "р╕Бр╕│р╕ер╕▒р╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М $FILE"
#     touch $FILE
#     echo "р╕кр╕гр╣Йр╕▓р╕З $FILE р╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕в"
# done

# echo "р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣Мр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ"

# COUNT=5

# echo "р╣Ар╕гр╕┤р╣Ир╕бр╕Щр╕▒р╕Ър╕Цр╕нр╕вр╕лр╕ер╕▒р╕З!"

# while [ $COUNT -gt 0 ]
# do
#     echo "$COUNT..."
#     COUNT=$((COUNT - 1))
#     sleep 1
# done

# echo "ЁЯЪА р╕Ыр╕ер╣Ир╕нр╕вр╕Ир╕гр╕зр╕Ф!"

echo "р╕Бр╕│р╕ер╕▒р╕Зр╣Ар╕гр╕┤р╣Ир╕б web server..."

# р╕Юр╕вр╕▓р╕вр╕▓р╕б 5 р╕Др╕гр╕▒р╣Йр╕З
TRY=1
MAX_TRY=5

while [ $TRY -le $MAX_TRY ]
do
    echo "р╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣И $TRY р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ server..."
    
    # р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ server р╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
    if ping -c 1 localhost > /dev/null 2>&1; then
        echo "тЬЕ Server р╕Чр╕│р╕Зр╕▓р╕Щр╣Бр╕ер╣Йр╕з!"
        break  # р╕лр╕вр╕╕р╕Ф loop
    fi
    
    echo "р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З р╕гр╕нр╕нр╕╡р╕Б 2 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡..."
    sleep 2
    
    TRY=$((TRY + 1))
done

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕кр╕│р╣Ар╕гр╣Зр╕Ир╕лр╕гр╕╖р╕нр╣Др╕бр╣И
if [ $TRY -gt $MAX_TRY ]; then
    echo "тЭМ Server р╣Др╕бр╣Ир╕Хр╕нр╕Ър╕кр╕Щр╕нр╕Зр╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕ер╕нр╕З $MAX_TRY р╕Др╕гр╕▒р╣Йр╕З"
fi